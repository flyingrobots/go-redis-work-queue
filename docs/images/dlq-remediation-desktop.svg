<svg width="1200" height="800" viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="800" fill="#0d1117"/>

  <!-- Header -->
  <rect width="1200" height="60" fill="#161b22" stroke="#30363d" stroke-width="1"/>
  <text x="20" y="40" font-family="monospace" font-size="16" fill="#f0f6fc" font-weight="bold">DLQ Remediation Pipeline</text>
  <text x="1100" y="40" font-family="monospace" font-size="14" fill="#8b949e">Ctrl+R</text>

  <!-- Main content area -->
  <g transform="translate(0, 60)">
    <!-- Left Panel: Classification Rules -->
    <rect width="360" height="740" fill="#161b22" stroke="#30363d" stroke-width="1"/>
    <rect x="10" y="10" width="340" height="30" fill="#0d1117" stroke="#30363d" stroke-width="1"/>
    <text x="20" y="30" font-family="monospace" font-size="14" fill="#f0f6fc" font-weight="bold">Classification Rules</text>

    <!-- Rule list -->
    <rect x="10" y="50" width="340" height="35" fill="#238636" stroke="#39d353" stroke-width="1" rx="4"/>
    <text x="20" y="72" font-family="monospace" font-size="12" fill="#f0f6fc">âœ“ Validation Errors â†’ Redact PII + Retry</text>

    <rect x="10" y="95" width="340" height="35" fill="#1f2937" stroke="#30363d" stroke-width="1" rx="4"/>
    <text x="20" y="117" font-family="monospace" font-size="12" fill="#f0f6fc">â¸ Network Timeouts â†’ Retry w/ Backoff</text>

    <rect x="10" y="140" width="340" height="35" fill="#1f2937" stroke="#30363d" stroke-width="1" rx="4"/>
    <text x="20" y="162" font-family="monospace" font-size="12" fill="#f0f6fc">ğŸ”„ Auth Failures â†’ Refresh Token + Retry</text>

    <rect x="10" y="185" width="340" height="35" fill="#f85149" stroke="#f85149" stroke-width="1" rx="4"/>
    <text x="20" y="207" font-family="monospace" font-size="12" fill="#f0f6fc">âœ— Schema Violations â†’ Transform + Requeue</text>

    <!-- Rule editor -->
    <text x="20" y="250" font-family="monospace" font-size="12" fill="#8b949e">Rule Editor:</text>
    <rect x="10" y="260" width="340" height="120" fill="#0d1117" stroke="#30363d" stroke-width="1" rx="4"/>
    <text x="20" y="280" font-family="monospace" font-size="10" fill="#58a6ff">matcher:</text>
    <text x="20" y="295" font-family="monospace" font-size="10" fill="#f0f6fc">  error_pattern: "validation.*required"</text>
    <text x="20" y="310" font-family="monospace" font-size="10" fill="#58a6ff">actions:</text>
    <text x="20" y="325" font-family="monospace" font-size="10" fill="#f0f6fc">  - redact_fields: ["ssn", "email"]</text>
    <text x="20" y="340" font-family="monospace" font-size="10" fill="#f0f6fc">  - requeue_to: "user.validation.retry"</text>
    <text x="20" y="355" font-family="monospace" font-size="10" fill="#f0f6fc">  - max_retries: 3</text>
    <text x="20" y="370" font-family="monospace" font-size="10" fill="#f0f6fc">  - rate_limit: "10/min"</text>

    <!-- Stats -->
    <text x="20" y="410" font-family="monospace" font-size="12" fill="#8b949e">Pipeline Stats:</text>
    <rect x="10" y="420" width="340" height="100" fill="#0d1117" stroke="#30363d" stroke-width="1" rx="4"/>
    <text x="20" y="440" font-family="monospace" font-size="10" fill="#39d353">âœ“ Successfully remediated: 1,247</text>
    <text x="20" y="455" font-family="monospace" font-size="10" fill="#ffa657">âš  Needs review: 23</text>
    <text x="20" y="470" font-family="monospace" font-size="10" fill="#f85149">âœ— Failed to remediate: 5</text>
    <text x="20" y="485" font-family="monospace" font-size="10" fill="#8b949e">ğŸ“Š Success rate: 98.2%</text>
    <text x="20" y="500" font-family="monospace" font-size="10" fill="#8b949e">â± Avg processing time: 450ms</text>
  </g>

  <!-- Center Panel: DLQ Items & Preview -->
  <g transform="translate(360, 60)">
    <rect width="480" height="740" fill="#161b22" stroke="#30363d" stroke-width="1"/>
    <rect x="10" y="10" width="460" height="30" fill="#0d1117" stroke="#30363d" stroke-width="1"/>
    <text x="20" y="30" font-family="monospace" font-size="14" fill="#f0f6fc" font-weight="bold">DLQ Items (127 pending)</text>
    <text x="420" y="30" font-family="monospace" font-size="12" fill="#58a6ff">Filter</text>

    <!-- DLQ table header -->
    <rect x="10" y="50" width="460" height="25" fill="#0d1117" stroke="#30363d" stroke-width="1"/>
    <text x="20" y="67" font-family="monospace" font-size="10" fill="#8b949e">ID</text>
    <text x="80" y="67" font-family="monospace" font-size="10" fill="#8b949e">Error Type</text>
    <text x="200" y="67" font-family="monospace" font-size="10" fill="#8b949e">Queue</text>
    <text x="300" y="67" font-family="monospace" font-size="10" fill="#8b949e">Age</text>
    <text x="360" y="67" font-family="monospace" font-size="10" fill="#8b949e">Action</text>

    <!-- DLQ rows -->
    <rect x="10" y="75" width="460" height="20" fill="#238636" stroke="#39d353" stroke-width="1" opacity="0.3"/>
    <text x="20" y="87" font-family="monospace" font-size="9" fill="#f0f6fc">12847</text>
    <text x="80" y="87" font-family="monospace" font-size="9" fill="#39d353">validation</text>
    <text x="200" y="87" font-family="monospace" font-size="9" fill="#f0f6fc">user.signup</text>
    <text x="300" y="87" font-family="monospace" font-size="9" fill="#f0f6fc">2m</text>
    <text x="360" y="87" font-family="monospace" font-size="9" fill="#39d353">redact+retry</text>

    <rect x="10" y="95" width="460" height="20" fill="#1f2937"/>
    <text x="20" y="107" font-family="monospace" font-size="9" fill="#f0f6fc">12846</text>
    <text x="80" y="107" font-family="monospace" font-size="9" fill="#ffa657">timeout</text>
    <text x="200" y="107" font-family="monospace" font-size="9" fill="#f0f6fc">payment.process</text>
    <text x="300" y="107" font-family="monospace" font-size="9" fill="#f0f6fc">5m</text>
    <text x="360" y="107" font-family="monospace" font-size="9" fill="#ffa657">backoff+retry</text>

    <rect x="10" y="115" width="460" height="20" fill="#1f2937"/>
    <text x="20" y="127" font-family="monospace" font-size="9" fill="#f0f6fc">12845</text>
    <text x="80" y="127" font-family="monospace" font-size="9" fill="#f85149">schema</text>
    <text x="200" y="127" font-family="monospace" font-size="9" fill="#f0f6fc">email.send</text>
    <text x="300" y="127" font-family="monospace" font-size="9" fill="#f0f6fc">1h</text>
    <text x="360" y="127" font-family="monospace" font-size="9" fill="#f85149">transform</text>

    <!-- Job preview -->
    <text x="20" y="170" font-family="monospace" font-size="12" fill="#8b949e">Job Preview (ID: 12847):</text>
    <rect x="10" y="180" width="460" height="200" fill="#0d1117" stroke="#30363d" stroke-width="1" rx="4"/>
    <text x="20" y="200" font-family="monospace" font-size="10" fill="#58a6ff">{</text>
    <text x="20" y="215" font-family="monospace" font-size="10" fill="#f0f6fc">  "type": "user_signup",</text>
    <text x="20" y="230" font-family="monospace" font-size="10" fill="#f0f6fc">  "user": {</text>
    <text x="20" y="245" font-family="monospace" font-size="10" fill="#f0f6fc">    "email": "</text>
    <text x="110" y="245" font-family="monospace" font-size="10" fill="#f85149" text-decoration="line-through">john@invalid-email</text>
    <text x="20" y="260" font-family="monospace" font-size="10" fill="#39d353">    "email": "[REDACTED]",</text>
    <text x="20" y="275" font-family="monospace" font-size="10" fill="#f0f6fc">    "name": "John Doe",</text>
    <text x="20" y="290" font-family="monospace" font-size="10" fill="#f0f6fc">    "ssn": "</text>
    <text x="95" y="290" font-family="monospace" font-size="10" fill="#f85149" text-decoration="line-through">123-45-6789</text>
    <text x="20" y="305" font-family="monospace" font-size="10" fill="#39d353">    "ssn": "[REDACTED]"</text>
    <text x="20" y="320" font-family="monospace" font-size="10" fill="#f0f6fc">  },</text>
    <text x="20" y="335" font-family="monospace" font-size="10" fill="#f0f6fc">  "timestamp": "2024-01-15T10:30:00Z"</text>
    <text x="20" y="350" font-family="monospace" font-size="10" fill="#58a6ff">}</text>

    <!-- Transformation preview -->
    <text x="20" y="400" font-family="monospace" font-size="12" fill="#8b949e">Transformation Preview:</text>
    <rect x="10" y="410" width="460" height="80" fill="#238636" stroke="#39d353" stroke-width="1" rx="4" opacity="0.2"/>
    <text x="20" y="430" font-family="monospace" font-size="10" fill="#39d353">âœ“ PII fields redacted</text>
    <text x="20" y="445" font-family="monospace" font-size="10" fill="#39d353">âœ“ Payload validated against schema</text>
    <text x="20" y="460" font-family="monospace" font-size="10" fill="#39d353">âœ“ Ready for requeue to: user.signup.retry</text>
    <text x="20" y="475" font-family="monospace" font-size="10" fill="#8b949e">â„¹ Rate limit: 8/10 per minute</text>

    <!-- Action buttons -->
    <rect x="10" y="510" width="100" height="30" fill="#238636" stroke="#39d353" stroke-width="1" rx="4"/>
    <text x="35" y="530" font-family="monospace" font-size="12" fill="#f0f6fc">Dry Run</text>

    <rect x="120" y="510" width="100" height="30" fill="#0969da" stroke="#58a6ff" stroke-width="1" rx="4"/>
    <text x="145" y="530" font-family="monospace" font-size="12" fill="#f0f6fc">Apply (1)</text>

    <rect x="230" y="510" width="110" height="30" fill="#bd4f36" stroke="#f85149" stroke-width="1" rx="4"/>
    <text x="250" y="530" font-family="monospace" font-size="12" fill="#f0f6fc">Batch (127)</text>
  </g>

  <!-- Right Panel: Controls & Monitoring -->
  <g transform="translate(840, 60)">
    <rect width="360" height="740" fill="#161b22" stroke="#30363d" stroke-width="1"/>
    <rect x="10" y="10" width="340" height="30" fill="#0d1117" stroke="#30363d" stroke-width="1"/>
    <text x="20" y="30" font-family="monospace" font-size="14" fill="#f0f6fc" font-weight="bold">Pipeline Controls</text>

    <!-- Status -->
    <text x="20" y="70" font-family="monospace" font-size="12" fill="#8b949e">Status:</text>
    <rect x="10" y="80" width="340" height="40" fill="#238636" stroke="#39d353" stroke-width="1" rx="4" opacity="0.3"/>
    <text x="20" y="105" font-family="monospace" font-size="12" fill="#39d353">â— ACTIVE - Processing 12/min</text>

    <!-- Safety Settings -->
    <text x="20" y="140" font-family="monospace" font-size="12" fill="#8b949e">Safety Settings:</text>
    <rect x="10" y="150" width="340" height="120" fill="#0d1117" stroke="#30363d" stroke-width="1" rx="4"/>
    <text x="20" y="170" font-family="monospace" font-size="10" fill="#f0f6fc">Max per minute: 50</text>
    <text x="20" y="185" font-family="monospace" font-size="10" fill="#f0f6fc">Max total per run: 1000</text>
    <text x="20" y="200" font-family="monospace" font-size="10" fill="#f0f6fc">Error rate threshold: 5%</text>
    <text x="20" y="215" font-family="monospace" font-size="10" fill="#f0f6fc">Stop on consecutive fails: 10</text>
    <text x="20" y="230" font-family="monospace" font-size="10" fill="#39d353">âœ“ Dry-run mode: ON</text>
    <text x="20" y="245" font-family="monospace" font-size="10" fill="#ffa657">âš  Production env: confirm required</text>
    <text x="20" y="260" font-family="monospace" font-size="10" fill="#58a6ff">ğŸ”’ Audit logging: enabled</text>

    <!-- Live Metrics -->
    <text x="20" y="300" font-family="monospace" font-size="12" fill="#8b949e">Live Metrics (last 5min):</text>
    <rect x="10" y="310" width="340" height="160" fill="#0d1117" stroke="#30363d" stroke-width="1" rx="4"/>

    <!-- Mini chart -->
    <g transform="translate(20, 320)">
      <text x="0" y="15" font-family="monospace" font-size="10" fill="#8b949e">Success Rate</text>
      <rect x="0" y="20" width="300" height="40" fill="#161b22" stroke="#30363d" stroke-width="1"/>
      <rect x="5" y="25" width="290" height="8" fill="#238636" rx="2"/>
      <rect x="270" y="25" width="25" height="8" fill="#ffa657" rx="2"/>
      <text x="280" y="45" font-family="monospace" font-size="9" fill="#39d353">96.7%</text>

      <text x="0" y="75" font-family="monospace" font-size="10" fill="#8b949e">Processing Rate</text>
      <rect x="0" y="80" width="300" height="40" fill="#161b22" stroke="#30363d" stroke-width="1"/>
      <!-- Rate bars -->
      <rect x="5" y="85" width="20" height="30" fill="#39d353"/>
      <rect x="30" y="90" width="20" height="25" fill="#39d353"/>
      <rect x="55" y="88" width="20" height="27" fill="#39d353"/>
      <rect x="80" y="85" width="20" height="30" fill="#39d353"/>
      <rect x="105" y="92" width="20" height="23" fill="#39d353"/>
      <rect x="130" y="89" width="20" height="26" fill="#ffa657"/>
      <rect x="155" y="87" width="20" height="28" fill="#39d353"/>
      <text x="260" y="105" font-family="monospace" font-size="9" fill="#39d353">12/min</text>
    </g>

    <!-- Recent Activity -->
    <text x="20" y="520" font-family="monospace" font-size="12" fill="#8b949e">Recent Activity:</text>
    <rect x="10" y="530" width="340" height="120" fill="#0d1117" stroke="#30363d" stroke-width="1" rx="4"/>
    <text x="20" y="550" font-family="monospace" font-size="9" fill="#39d353">10:32 Applied rule to job 12847 âœ“</text>
    <text x="20" y="565" font-family="monospace" font-size="9" fill="#39d353">10:31 Requeued 5 validation errors âœ“</text>
    <text x="20" y="580" font-family="monospace" font-size="9" fill="#ffa657">10:30 Rate limit reached (50/min) âš </text>
    <text x="20" y="595" font-family="monospace" font-size="9" fill="#39d353">10:29 Transformed schema violation âœ“</text>
    <text x="20" y="610" font-family="monospace" font-size="9" fill="#f85149">10:28 Failed to process job 12834 âœ—</text>
    <text x="20" y="625" font-family="monospace" font-size="9" fill="#39d353">10:27 Batch remediation completed âœ“</text>
    <text x="20" y="640" font-family="monospace" font-size="9" fill="#8b949e">--- 5 minutes ago ---</text>

    <!-- Emergency Controls -->
    <rect x="10" y="660" width="100" height="30" fill="#f85149" stroke="#f85149" stroke-width="1" rx="4"/>
    <text x="40" y="680" font-family="monospace" font-size="12" fill="#f0f6fc">PAUSE</text>

    <rect x="120" y="660" width="100" height="30" fill="#30363d" stroke="#8b949e" stroke-width="1" rx="4"/>
    <text x="150" y="680" font-family="monospace" font-size="12" fill="#8b949e">Reset</text>

    <rect x="230" y="660" width="100" height="30" fill="#0969da" stroke="#58a6ff" stroke-width="1" rx="4"/>
    <text x="265" y="680" font-family="monospace" font-size="12" fill="#f0f6fc">Config</text>
  </g>

  <!-- Status bar -->
  <rect y="760" width="1200" height="40" fill="#161b22" stroke="#30363d" stroke-width="1"/>
  <text x="20" y="785" font-family="monospace" font-size="12" fill="#39d353">â— Pipeline Active</text>
  <text x="200" y="785" font-family="monospace" font-size="12" fill="#8b949e">Queue: dlq.main (127 items)</text>
  <text x="500" y="785" font-family="monospace" font-size="12" fill="#8b949e">Mode: Dry Run</text>
  <text x="700" y="785" font-family="monospace" font-size="12" fill="#8b949e">Rate: 12/50 per min</text>
  <text x="1000" y="785" font-family="monospace" font-size="12" fill="#8b949e">Success: 98.2%</text>
</svg>