{
  "task_id": "P1.T022",
  "created_at": "2025-09-14T19:41:47.129031Z",
  "task": {
    "id": "P1.T022",
    "feature_id": "F007",
    "title": "Deploy Exactly Once Patterns",
    "description": "Deploy task for Exactly Once Patterns",
    "boundaries": {
      "expected_complexity": {
        "value": "Configuration and scripts",
        "breakdown": "Docker (50%), K8s manifests (30%), Scripts (20%)"
      },
      "definition_of_done": {
        "criteria": [
          "Deployment successful to staging",
          "Health checks passing",
          "Smoke tests passing",
          "Rollback tested",
          "Monitoring configured",
          "Alerts configured"
        ],
        "stop_when": "Deployed to staging; do NOT deploy to production"
      },
      "scope": {}
    },
    "execution_guidance": {
      "logging": {
        "format": "JSON Lines (JSONL)",
        "required_fields": [
          "timestamp",
          "task_id",
          "step",
          "status",
          "message"
        ],
        "optional_fields": [
          "percent",
          "data",
          "checkpoint"
        ],
        "status_values": [
          "start",
          "progress",
          "done",
          "error",
          "checkpoint"
        ]
      },
      "checkpoints": [],
      "monitoring": {
        "metrics_to_track": [],
        "alerts": []
      }
    },
    "resource_requirements": {
      "estimated": {
        "cpu_cores": 1,
        "memory_mb": 512,
        "disk_io_mbps": 10
      },
      "peak": {
        "cpu_cores": 2,
        "memory_mb": 1024,
        "disk_io_mbps": 50,
        "during": "compilation or testing"
      },
      "worker_capabilities_required": [
        "deployment",
        "kubernetes",
        "monitoring"
      ]
    },
    "scheduling_hints": {
      "priority": "high",
      "preemptible": false,
      "retry_on_failure": true,
      "max_retries": 3,
      "checkpoint_capable": false
    },
    "duration": {
      "optimistic": 1,
      "mostLikely": 2,
      "pessimistic": 4
    },
    "shared_resources": {
      "exclusive_locks": [
        "deployment_slot"
      ],
      "shared_limited": [],
      "creates": [],
      "modifies": []
    },
    "acceptance_checks": [
      {
        "type": "automated",
        "description": "Idempotency helpers and dedup storage shipped with metrics.",
        "script": "test_p1.t022.sh"
      },
      {
        "type": "automated",
        "description": "Optional outbox relay with sample integrations.",
        "script": "test_p1.t022.sh"
      },
      {
        "type": "automated",
        "description": "Documentation of tradeoffs and failure modes.",
        "script": "test_p1.t022.sh"
      },
      {
        "type": "manual",
        "description": "Idempotency key helper + storage",
        "script": null
      },
      {
        "type": "manual",
        "description": "Metrics + Admin API for dedup stats",
        "script": null
      }
    ],
    "evidence": [
      {
        "type": "plan",
        "source": "docs/ideas/exactly-once-patterns.md",
        "excerpt": "Document and optionally enforce patterns for effectively exactly\u2011once processing: idempotency keys, deduplication sets, and the transactional outbox. Provide helpers and guardrails so teams can adopt ",
        "confidence": 1.0,
        "rationale": "Primary feature specification"
      }
    ]
  },
  "dependencies": [],
  "instructions": {
    "on_complete": "Move this file to finished-tasks/P1.T022.json",
    "on_failure": "Move this file to failed-tasks/P1.T022.json",
    "on_help_needed": "Move to help-me/P1.T022.json",
    "note": "READ THE FULL TASK SPECIFICATION! All details are in the task field.",
    "resource_locks": {
      "exclusive_locks": [
        "deployment_slot"
      ],
      "shared_limited": [],
      "creates": [],
      "modifies": []
    }
  }
}